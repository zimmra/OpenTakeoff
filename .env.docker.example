# ============================================================================
# OpenTakeOff Docker Environment Configuration
# Copy this file to .env.docker and configure for your deployment
# ============================================================================

# Backend Configuration
# ----------------------------------------------------------------------------

# Server Port (default: 3001)
# The port the backend API server will listen on inside the container
BACKEND_PORT=3001

# Node Environment (development | production | test)
NODE_ENV=production

# Database Configuration
# ----------------------------------------------------------------------------

# SQLite Database Path (inside container)
# Default: /data/sqlite/db.sqlite
# This path is mounted as a volume for persistence
DATABASE_PATH=/data/sqlite/db.sqlite

# PDF Upload Configuration
# ----------------------------------------------------------------------------

# Maximum PDF file size in megabytes (default: 50)
# Limits the size of uploaded plan PDFs to prevent resource exhaustion
PDF_MAX_SIZE_MB=50

# Observability Configuration
# ----------------------------------------------------------------------------

# Enable Prometheus metrics endpoint at /metrics (default: false)
# Set to "true" to enable metrics collection for monitoring
ENABLE_METRICS=false

# Frontend Configuration
# ----------------------------------------------------------------------------

# Frontend Port (default: 5173 for dev, 80 for production)
# The port exposed on the host for accessing the web UI
FRONTEND_PORT=5173

# ============================================================================
# Usage Instructions
# ============================================================================
#
# Production Deployment:
# 1. Copy this file: cp .env.docker.example .env.docker
# 2. Edit values as needed for your environment
# 3. Run: docker compose up -d
# 4. Access frontend at http://localhost:5173
# 5. Access backend API at http://localhost:3001
#
# Development Mode:
# 1. Configure as above
# 2. Run: docker compose --profile dev up
# 3. Source code changes will hot-reload automatically
#
# Data Persistence:
# - PDFs stored in: ./data/uploads (bind mount)
# - Database stored in: ./data/sqlite (bind mount)
# - Named volumes: data-uploads, data-sqlite (for better performance)
#
# Health Checks:
# - Backend: http://localhost:3001/healthz
# - Frontend: http://localhost:5173/
#
# Cleanup:
# - Stop services: docker compose down
# - Remove volumes (DATA LOSS!): docker compose down -v
#
# ============================================================================
